## 公共资源

设计稿：
https://codesign.qq.com/app/s/565330195605427
QQWH

原型：
https://modao.cc/proto/Is4LUggUsw8ndbSuLvflB9/sharing?view_mode=read_only&screen=rbpUn7GW9czoFGz7W
te9on3

[环境准备 | 粤商通APP - 开发文档](https://yqt-dev.digitalgd.com.cn/yqt/yqt/front-end/guide/front-end-environment.html)

## 越秀商家小程序

### 更新静态资源

发个邮件吧，把需要发布的内容、对应的资源路径那些都说明清楚，我们这边配合更新
发给万星球，我，陈宇健，张迪

### 上传

上传：点击微信开发者工具上传，版本号命名规则：大版本.功能点.补丁

注意 src/pages/openability/index.js，越秀商家VR样板间上线后


注意事项：

### sdk
sdk需要看szgd_modules里的，可能和core.extendAPI有关。不太懂。

### localStorage
setLocalGlobalData、getLocalGlobalData，操作localStorage

### 环境
就算用npm run dev:weapp，也是生产环境

### appId
wx000c6ae0dce27f58

### 登录
跳转了粤信签，然后再回来的
Taro.navigateToMiniProgram(getYXQConfig()).catch(reject)

### request
sdk/request 引用 sdk/request-base ，里面有各种 request-enhancer。
如果需要加入自己的token，可以在这里面加

### 小程序域名校验

可以在开发者工具、详情、本地设置里关闭


### 登录

#### 未登录时的storage：（真机调试）
![](assets/Pasted%20image%2020250825142921.png)

如果不是真机调试，只是用开发者工具，就没有 ysxcx_uninfo

unionid、openid，可能是后端用测试的 appid 和 appsecrect 向小程序后端换取的。


#### 微信小程序登录相关的storage：
1. `unionid`

- **作用**：`unionid` 是微信开放平台下，用户在同一主体（如同一公司主体下的多个应用，包括小程序、公众号等 ）中的唯一标识。当小程序需要与同主体其他应用打通用户身份时，`unionid` 非常关键，用于确定跨应用的同一用户，是登录态关联中重要的标识 。

2. `openid`

- **作用**：`openid` 是微信小程序针对当前小程序的用户唯一标识。每个用户在单个小程序里的 `openid` 是唯一的，小程序通过 `openid` 区分不同用户，是小程序登录后标识用户身份的基础关键信息，一般在登录流程完成后获取并存储，用于后续业务逻辑中识别用户 。

3. `sessionid`

- **作用**：在小程序与后端服务交互时，`sessionid` 常作为服务端识别用户会话（登录态保持）的标识 。小程序登录后，服务端会生成对应的会话 `session`，并将 `sessionid` 返回给小程序存储，后续小程序发起请求（如获取用户信息、业务数据等 ）时携带 `sessionid`，服务端据此验证用户登录态、获取对应用户的相关数据，维持登录会话的有效性。

### OpenData

22年2月之后，就不能通过openData组件默认获取微信小程序昵称和头像了
[微信开放社区](https://developers.weixin.qq.com/community/develop/doc/000e881c7046a8fa1f4d464105b001)

所以代码里的OpenData在未登录时的昵称、头像也是没有的


### openType='getPhoneNumber'

手机号快速验证组件，有1000次额度限制，但是越秀商家的是政府，所以免费

[开放能力 / 用户信息 / 手机号快速验证组件](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/getPhoneNumber.html#%E8%BF%94%E5%9B%9E%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E)
[开放能力 / 用户信息 / 开放数据校验与解密](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html#%E5%8A%A0%E5%AF%86%E6%95%B0%E6%8D%AE%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95)

1. 账号[微信认证主体类型](https://kf.qq.com/faq/120911VrYVrA141021aUZJzY.html)为政府、非营利组织的小程序 可以免费

#### 敏感信息，需要后端配合解密

[微信开放文档](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/deprecatedGetPhoneNumber.html)

[开放能力 / 用户信息 / 开放数据校验与解密](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html#%E5%8A%A0%E5%AF%86%E6%95%B0%E6%8D%AE%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95)

### 前端登录核心逻辑

sdk.udb.login，监听 app.js的 app:onShow 事件。
每次从粤信签回来，都会在路由中带一个 referrerInfo.extraData.token 参数
可以获取到这个token。
然后调用 /tif/mpsso/login 这个（单点登录认证？）的接口。
后端可能就根据http中的header的这两个字段，给予该用户登录态
1. x-tif-did: 设备id？（对应前端storage的x-tif-did）
2. x-tif-sid: 会话id？（对应前端storage的sessionid）


在sdk/get-auth-header.js中，getLoginTokenHeader 函数会尝试获取sessionid，如果没有，就调用 fetchSessionIdAndCache ，从而调用 wx.login，拿到code
此时就会给 /api/mp/login 这个接口，传 code，以及在头部传入 x-tif-did（如果没有就随机生成一串）
此时该接口就会返回 sessionid、openid、unionid、sessionIdTime（确定sessionid有效期）
实际上之后请求，只要用到 sessionid和x-tif-did就可以确定登录态。
openid和unionid，好像只用于监控了。


大致梳理清楚，前端这边的登录逻辑了，后端也可以参考下：

1. 用户一进入小程序，进行任何请求之前，都会经过 src/szgd_modules/sdk/get-auth-header.js 的 getLoginTokenHeader 函数的处理，在该函数中，会尝试获取 storage 的 sessionId 参数，如果没有该参数，则调用 wx.login，获取微信的 code，然后调用后端的  https://api-yst.gdzwfw.gov.cn/api/mp/login 接口，将 code、appid、paasid 传递给后端，并且附上一个名为 x-tif-did 的字符串（x-tif-did于前端随机生成并在 Storage 的 x-tif-did 中进行持久化存储，应该是对应设备标识）
2. api/mp/login 接口会通过 code 等信息，获取到微信的 unionid、openid（猜测应该用了这里的逻辑[开放能力 / 用户信息 / 小程序登录](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/login.html)），返回给前端。同时，猜测应该会根据 x-tif-did，生成一个标识本次会话登录态的 sessionid，返回给前端，前端将 sessionid 存储在 Storage中，之后的接口请求都会将其附带在 header 的 x-tif-sid字段中，用于登录态判断。在后续的前端逻辑中，对判断登录态起主要作用的，是 x-tif-did 和这个 sessionid，而 unionid、openid 应该是主要负责埋点上报等，和登录态无关。
3. 用户在越秀商家小程序首页点击登录按钮，前端调用 src/szgd_modules/sdk/udb/login 函数，跳转粤信签小程序
4. 同时，src/szgd_modules/sdk/udb/login 中创建 Taro.eventCenter.once('app:onShow') 监听总线事件，并设定一个回调函数用于处理粤信签传回来的 token。
5. 粤信签刷脸认证完成后，跳转回到越秀商家小程序，携带token，在 app.js 的 componentDidShow 中触发 app:onShow 事件，并将 token 传入其回调函数（见上一条）
6. 在该回调函数中，调用 https://api-yst.gdzwfw.gov.cn/tif/mpsso/login 接口，将 token 传递给后端（并且在请求的header中继续携带 x-tif-did 和 x-tif-sid），猜测后端将这个粤信签的 token 和 x-tif-did、x-tif-sid 进行关联，实现单点登录。该接口并不会返回任何有效内容。
7. 之后的前端请求，只需要在 header 中携带 x-tif-did 和 x-tif-sid，就认定为已登录。

简易版（聚焦于后端关于登录的逻辑）：
1. 进入小程序，通过小程序自带的 wx.login 方法得到一个字符串 code，将 code 传递给 https://api-yst.gdzwfw.gov.cn/api/mp/login 接口，并且在 header 中附上随机生成的字符串 x-tif-did
2. 后端返回一个字符串 sessionid，前端将其存入storage中的 x-tif-sid 变量
3. 前端调用粤信签扫脸登录，得到一个字符串 token，将该 token （并且在 header 中携带 x-tif-did、x-tif-sid）传给 https://api-yst.gdzwfw.gov.cn/tif/mpsso/login 接口，完成单点登录的关联
4. 后续前端请求时，在 header 中携带 x-tif-did、x-tif-sid 即可视为已登录


### 小程序登录h5逻辑


1. 越秀商家请求 https://api-yst.gdzwfw.gov.cn/tif/sso/connect/page/mp/sid_to_account_code 接口获取一个 ryz_access_token  
2. 然后带着这个 ryz_access_token、需要跳转的h5链接（也就是越秀金卡地址）这两个信息，跳转到 https://static-yst.gdzwfw.gov.cn/default/#pages/auth-transfer/index 这个页面（以下简称为【中转页】）。  
3. 然后从这个页面，重定向到越秀金卡地址，并携带一个 yxsjToken  
4. 在越秀金卡h5里，再把这个 yxsjToken 传给 mobileDeviceLogin，获取信息。  
  
现在卡点有：  
1. 不清楚这个【中转页】是由谁维护的  
2. 【中转页】如何将小程序的  ryz_access_token 转化成越秀金卡的 yxsjToken  
3. 【中转页】很可能无法跳转回我们小程序，而是只能跳转到h5链接


### taro2 获取子组件实例

```javascript
class ChildComponent extends Component {
  // 子组件的方法
  refresh = () => {
    // 执行刷新操作
  }

  render() {
    return <View>子组件</View>
  }
}

// 父组件
class ParentComponent extends Component {
  // 获取子组件实例的方法
  handleChildRef = (child) => {
    this.childInstance = child
  }

  // 触发子组件方法的按钮
  handleTriggerChild = () => {
    if (this.childInstance) {
      this.childInstance.refresh()
    }
  }

  render() {
    return (
      <View>
        <Button onClick={this.handleTriggerChild}>触发子组件操作</Button>
        <ChildComponent ref={this.handleChildRef} />
      </View>
    )
  }
}
```
## 小程序分享

[框架接口 / 页面 / Page](https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareAppMessage-Object-object)
[转发 / wx.showShareMenu](https://developers.weixin.qq.com/miniprogram/dev/api/share/wx.showShareMenu.html)

```
componentWillMount() {

	Taro.showShareMenu({

		withShareTicket: true,

		menus: ['shareAppMessage', 'shareTimeline']

	})

}


onShareAppMessage() {

	const { name } = this.state

	console.log('res')

	return {

		title: name,

	}

}
```

```
<Button open-type='share' data-share={{ title: shareTitle }}>
	点击分享
</Button>
```


### button自定义样式

微信小程序的button有一些默认的样式，修改起来比较麻烦，我的思路是去掉button的边框和背景颜色，覆盖在自己写的view上面，加一个绝对定位就可以了。  
比如下图客服中心按钮，是打开客服会话，需要用到button
  
作者：MasterPaul  
链接：https://www.jianshu.com/p/95f6060f53a1  
来源：简书  
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

```xml
<View className={'item'} style={{position:'relative'}}>
            <Image src={Images.service} className={'image'} mode={'aspectFit'}/>
            <View className={'title'}>客服中心</View>

            <Button  openType={'contact'} size={'mini'} type={'default'}
                     style={{position:'absolute',backgroundColor:'transparent',border:'none',
paddingLeft:0,paddingRight:0,top:0,left:0,right:0,bottom:0
                     }}
                     plain={true}
            />
          </View>
```

### 父组件状态改变，调用子组件函数

方法1：适合加载进入页面，就读取父组件的参数，然后更新

```
componentDidUpdate(prevProps) {

    if (prevProps.buildingId !== this.props.buildingId

    ) {

      this.refresh()

    }

  }
```

方法2：只适合进入页面后，点击父组件时更新（刚进入页面时，好像子组件没法监听到总线事件）

```
子组件：
componentDidMount() {

    this.fetchData()

  

    Taro.eventCenter.off('build_query')

    Taro.eventCenter.on('build_query', () => {

      this.refresh()

    })

  }


父组件：

onSelectorChange = () => {
			...

        Taro.eventCenter.trigger('build_query')

  }
```
## 越秀商家VR样板间H5



## 楼宇信息管理后台

junkaihu
Proxy@2023

admin
Proxy@2023

#### 部署

cd /data/apps/sites/vr_model_room/
rm -rf ys-business-admin.zip admin.bak
rz
mv ys-business-admin admin.bak && unzip ys-business-admin

## nginx配置

/data/software/nginx/conf/nginx.conf

重启nginx
cd /data/software/nginx && docker-compose restart nginx

```
location /vr_model_room/file {
		alias   /etc/nginx/file/vr_model_room/;
		try_files $uri$args $uri$args/ /index.html;
}

location /vr_model_room/admin {
		alias   /usr/share/nginx/html/vr_model_room/ys-business-admin;
		index   index.html index.htm;
								add_header Cache-Control "max-age=31536000";
		if ($request_filename ~* .*\.(htm|html)$) {
				add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
		}
}

location /vr_model_room/sys {
		alias   /usr/share/nginx/html/vr_model_room/ys-business-sys;
		index   index.html index.htm;
								add_header Cache-Control "max-age=31536000";
		if ($request_filename ~* .*\.(htm|html)$) {
				add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
		}
}

location /vr_model_room/mobile {
		alias   /usr/share/nginx/html/vr_model_room/ys-business-mobile;
		index   index.html index.htm;
								add_header Cache-Control "max-age=31536000";
		if ($request_filename ~* .*\.(htm|html)$) {
				add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
		}
}

# 腾讯地图
location /vr_model_room/api/tencentMap/ {
		proxy_pass https://apis.map.qq.com/;
		# proxy_set_header Host $http_host;
		proxy_set_header Host apis.map.qq.com;  # 改为目标服务器的 Host
		proxy_set_header X-Forwarded-Host $host;
		proxy_set_header X-Forwarded-Server $host;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header REMOTE-HOST $remote_addr;
}

location /vr_model_room/api/tencentMap/ {
	proxy_pass https://apis.map.qq.com/;
	# proxy_set_header Host $http_host;
	proxy_set_header Host apis.map.qq.com;  # 改为目标服务器的 Host
	# proxy_set_header X-Forwarded-Host $host;
	# proxy_set_header X-Forwarded-Server $host;
	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	proxy_set_header X-Real-IP $remote_addr;
	# proxy_set_header REMOTE-HOST $remote_addr;

	proxy_connect_timeout 10s;    # Nginx 与腾讯地图建立连接的超时时间（建议 5-10s）
	proxy_read_timeout 30s;       # Nginx 等待腾讯地图返回响应的超时时间（建议 20-30s）
	proxy_send_timeout 10s;       # Nginx 向腾讯地图发送请求的超时时间（建议 5-10s）
	proxy_buffer_size 4k;         # 缓冲区配置，优化响应传输速度（减少断连概率）
}

location /vr_model_room/api/ {
		proxy_pass http://10.2.161.227:19301/;
		proxy_set_header Host $http_host;
		proxy_set_header X-Forwarded-Host $host;
		proxy_set_header X-Forwarded-Server $host;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header REMOTE-HOST $remote_addr;
}


```

#### 生产：


/home/dgd/common/nginx/conf/nginx.conf

重启nginx

cd /home/dgd/common/nginx/sbin
./nginx -t
./nginx -s reload


const urlPrefix = process.env.SDK_ENV !== 'dev'

  ? 'https://10.2.161.227/vr_model_room/api'

  : 'https://api-yst.gdzwfw.gov.cn/yst_yxsj/vr_model_room/api'

前缀：https://api-yst.gdzwfw.gov.cn/yst_yxsj/vr_model_room/api

https://api-yst.gdzwfw.gov.cn/yst_yxsj/vr_model_room/admin

```
cd /home/dgd/common/nginx/html/vr_model_room && unzip /home/dgd/common/nginx/html/vr_model_room/ys-business-sys.zip
```

210服务器
```
	location /vr_model_room/api/ {
		proxy_pass http://10.195.252.210:19301/;
		proxy_set_header Host $http_host;
		proxy_set_header X-Forwarded-Host $host;
		proxy_set_header X-Forwarded-Server $host;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header REMOTE-HOST $remote_addr;
	}
	
	location /vr_model_room/admin {
		alias   /home/dgd/common/nginx/html/vr_model_room/ys-business-admin;
		# alias   /usr/share/nginx/html/vr_model_room/ys-business-admin;
		index   index.html index.htm;
								add_header Cache-Control "max-age=31536000";
		if ($request_filename ~* .*\.(htm|html)$) {
				add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
		}
	}
	
	location /vr_model_room/sys {
		alias /home/dgd/common/nginx/html/vr_model_room/ys-business-sys;
		# alias   /usr/share/nginx/html/vr_model_room/ys-business-sys;
		index   index.html index.htm;
								add_header Cache-Control "max-age=31536000";
		if ($request_filename ~* .*\.(htm|html)$) {
				add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
		}
	}

```


211、212服务器，前端转发到210

```
location /vr_model_room/admin {
		proxy_pass http://10.195.252.210/vr_model_room/admin;
		index   index.html index.htm;
								add_header Cache-Control "max-age=31536000";
		if ($request_filename ~* .*\.(htm|html)$) {
				add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
		}
	}
	
	location /vr_model_room/sys {
		proxy_pass http://10.195.252.210/vr_model_room/sys;
		index   index.html index.htm;
								add_header Cache-Control "max-age=31536000";
		if ($request_filename ~* .*\.(htm|html)$) {
				add_header Cache-Control "private, no-store, no-cache, must-revalidate, proxy-revalidate";
		}
	}
```


默认：
admin
123@Dg456

### 楼宇信息流程核心

1、企业/街道/商局 都可以新增工单，正常走审核。如果 "企业 点击提交初审" 或 "街道 点击提交复审"，就进入审核状态（a）

2、街道/商局 可以编辑已发布的、且不在流程中的信息。如果 "街道 点击申请修改"，就进入审批中状态（b）

3、街道/商局 可以编辑彼此新增的草稿。编辑完可以仅保存；或者如果 "街道 点击提交复审"，此时进入审批中状态（c）

4、街道 不能编辑正在流程中的（a、b、c操作都会使得工单处于审批中状态）

5、商局 可以编辑街道提交复审的数据（此时已经在流程中），结果为复审不通过，原因是管理员更新数据

### 柏文梳理的流程

```
【用户新增】  
1.1. 点“仅保存”->记录状态“楼宇新增，待提交初审”（可优化点：前端判断页面数据是否存在变动，如有变动允许用户点击“仅保存”，否则按钮不可点击，避免用户反复点击）  
1.2. 点“保存并提交”->记录状态“楼宇新增，待初审”->进入2  
2.1. 街道初审通过->记录状态“初审通过，待复审”->进入3  
2.2. 街道初审不通过->记录状态“初审不通过”->回到1  
3.1. 商局复审通过->记录状态“复审通过”->执行4  
3.2. 商局复审不通过->记录状态“复审不通过”->回到1  
4. 楼宇发布（从快照表转存本体表，不记录状态）  
【用户编辑】  
1.1. 点“仅保存”->记录状态“楼宇信息维护，待提交初审”（可优化点：前端判断页面数据是否存在变动，如有变动允许用户点击“仅保存”，否则按钮不可点击，避免用户反复点击）  
1.2. 点“保存并提交”->记录状态“楼宇信息维护，待初审”->进入2  
2.1. 街道初审通过->记录状态“初审通过，待复审”->进入3  
2.2. 街道初审不通过->记录状态“初审不通过”->回到1  
3.1. 商局复审通过->记录状态“复审通过”->执行4  
3.2. 商局复审不通过->记录状态“复审不通过”->回到1  
4. 楼宇发布（从快照表转存本体表，不记录状态）  
  
【街道新增】  
1.1. 点“仅保存”->记录状态“楼宇新增，待提交复审”（可优化点：前端判断页面数据是否存在变动，如有变动允许用户点击“仅保存”，否则按钮不可点击，避免用户反复点击）  
1.2. 点“保存并提交”->记录状态“楼宇新增，待复审”->进入2  
2.1. 商局复审通过->记录状态“复审通过”->执行3  
2.2. 商局复审不通过->记录状态“复审不通过”->回到1  
3. 楼宇发布（从快照表转存本体表，不记录状态）  
【街道编辑】  
1.1. 点“仅保存”->记录状态“楼宇信息维护，待提交复审”（可优化点：前端判断页面数据是否存在变动，如有变动允许用户点击“仅保存”，否则按钮不可点击，避免用户反复点击）  
1.2. 点“保存并提交”->记录状态“楼宇信息维护，待复审”->进入2  
2.1. 商局复审通过->记录状态“复审通过”->执行3  
2.2. 商局复审不通过->记录状态“复审不通过”->回到1  
3. 楼宇发布（从快照表转存本体表，不记录状态）  
  
【商局/管理员新增】  
1.1. 点“仅保存”->记录状态“楼宇新增，待发布”（可优化点：前端判断页面数据是否存在变动，如有变动允许用户点击“仅保存”，否则按钮不可点击，避免用户反复点击）  
1.2. 点“保存并提交”->记录状态"楼宇发布"->执行2  
2. 楼宇发布（从快照表转存本体表，不记录状态）  
【商局/管理员编辑】  
1.1. 点“仅保存”->记录状态“楼宇信息维护，待发布”（可优化点：前端判断页面数据是否存在变动，如有变动允许用户点击“仅保存”，否则按钮不可点击，避免用户反复点击）  
1.2. 点“保存并提交”->记录状态"楼宇信息维护"->执行2  
2. 楼宇发布（从快照表转存本体表，不记录状态）
```

## 楼宇信息权限系统

### 部署

227服务器
cd /data/apps/sites/vr_model_room/
rm -rf ys-business-sys.zip ys-business-sys.bak
rz
mv ys-business-sys ys-business-sys.bak && unzip ys-business-sys.zip

## 备份

### vr_model_room/api/sys/menu/querySysMenuTree

```
{
    "code": 200,
    "data": [
        {
            "id": 21648305967877,
            "name": "业务管理",
            "parentId": 0,
            "sort": 1,
            "path": "/service",
            "component": null,
            "query": null,
            "isFrame": "NO",
            "isCache": "YES",
            "type": "CONTENT",
            "visible": "VISIBLE",
            "status": "NORMAL",
            "permission": "",
            "icon": "#",
            "createTime": "2025-06-30 14:09:52",
            "parentName": null,
            "hasPermission": false,
            "children": [
                {
                    "id": 21648312393989,
                    "name": "餐饮审前服务",
                    "parentId": 21648305967877,
                    "sort": 1,
                    "path": "/service/preaudit",
                    "component": null,
                    "query": null,
                    "isFrame": "NO",
                    "isCache": "YES",
                    "type": "MENU",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "#",
                    "createTime": "2025-06-30 14:10:43",
                    "parentName": "业务管理",
                    "hasPermission": false,
                    "children": []
                },
                {
                    "id": 21804029680005,
                    "name": "楼宇管理",
                    "parentId": 21648305967877,
                    "sort": 2,
                    "path": "/service/building-management",
                    "component": null,
                    "query": null,
                    "isFrame": "NO",
                    "isCache": "YES",
                    "type": "CONTENT",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "#",
                    "createTime": "2025-07-14 16:06:24",
                    "parentName": "业务管理",
                    "hasPermission": false,
                    "children": [
                        {
                            "id": 21804522482437,
                            "name": "楼宇信息管理",
                            "parentId": 21804029680005,
                            "sort": 0,
                            "path": "/service/building-management/info",
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "#",
                            "createTime": "2025-07-14 17:10:34",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21925209422085,
                            "name": "楼宇列表管理员操作按钮",
                            "parentId": 21804029680005,
                            "sort": 1,
                            "path": null,
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "buildding:list:admin",
                            "icon": "#",
                            "createTime": "2025-07-25 15:05:01",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21914400477829,
                            "name": "楼宇编辑管理员操作按钮",
                            "parentId": 21804029680005,
                            "sort": 1,
                            "path": null,
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "buildding:edit:admin",
                            "icon": "#",
                            "createTime": "2025-07-24 15:37:36",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21967171617925,
                            "name": "楼宇审核列表（街道）",
                            "parentId": 21804029680005,
                            "sort": 2,
                            "path": null,
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "building:audit:street",
                            "icon": "#",
                            "createTime": "2025-07-29 10:08:50",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21967448705157,
                            "name": "楼宇信息审核详情",
                            "parentId": 21804029680005,
                            "sort": 2,
                            "path": "/service/building-management/audit/process",
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "#",
                            "createTime": "2025-07-29 10:44:55",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21959103804549,
                            "name": "楼宇信息审核",
                            "parentId": 21804029680005,
                            "sort": 2,
                            "path": "/service/building-management/audit",
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "#",
                            "createTime": "2025-07-28 16:38:20",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21969452661253,
                            "name": "楼宇信息审核查看页",
                            "parentId": 21804029680005,
                            "sort": 2,
                            "path": "/service/building-management/info/view",
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "#",
                            "createTime": "2025-07-29 15:05:51",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21914405391109,
                            "name": "楼宇编辑街道人员操作按钮",
                            "parentId": 21804029680005,
                            "sort": 2,
                            "path": null,
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "buildding:edit:street",
                            "icon": "#",
                            "createTime": "2025-07-24 15:38:14",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21814771317637,
                            "name": "楼宇信息管理编辑页",
                            "parentId": 21804029680005,
                            "sort": 2,
                            "path": "/service/building-management/info/edit",
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "#",
                            "createTime": "2025-07-15 15:25:03",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21967166239109,
                            "name": "楼宇审核列表（商局/运营人员）",
                            "parentId": 21804029680005,
                            "sort": 3,
                            "path": null,
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "building:audit:admin",
                            "icon": "#",
                            "createTime": "2025-07-29 10:08:08",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21915489609733,
                            "name": "楼宇信息管理查看页",
                            "parentId": 21804029680005,
                            "sort": 9,
                            "path": "/service/building-management/info/view",
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "#",
                            "createTime": "2025-07-24 17:59:25",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21991564781829,
                            "name": "闲置空间管理",
                            "parentId": 21804029680005,
                            "sort": 10,
                            "path": "/service/building-management/space/info",
                            "component": null,
                            "query": null,
                            "isFrame": "NO",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "#",
                            "createTime": "2025-07-31 15:05:02",
                            "parentName": "楼宇管理",
                            "hasPermission": false,
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "id": 1,
            "name": "系统管理",
            "parentId": 0,
            "sort": 2,
            "path": "/system",
            "component": "",
            "query": "",
            "isFrame": "YES",
            "isCache": "YES",
            "type": "CONTENT",
            "visible": "VISIBLE",
            "status": "NORMAL",
            "permission": "",
            "icon": "system",
            "createTime": "2023-08-23 10:44:54",
            "parentName": null,
            "hasPermission": false,
            "children": [
                {
                    "id": 4,
                    "name": "菜单管理",
                    "parentId": 1,
                    "sort": 0,
                    "path": "/system/menu",
                    "component": "/system/menu/index",
                    "query": "",
                    "isFrame": "YES",
                    "isCache": "YES",
                    "type": "MENU",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "tree-table",
                    "createTime": "2023-08-23 10:51:17",
                    "parentName": "系统管理",
                    "hasPermission": false,
                    "children": [
                        {
                            "id": 38,
                            "name": "获取菜单下拉树列表",
                            "parentId": 4,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:m:querySysMenuTree",
                            "icon": "",
                            "createTime": "2023-08-23 14:47:14",
                            "parentName": "菜单管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 37,
                            "name": "根据id查询菜单",
                            "parentId": 4,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:m:getSysMenuById",
                            "icon": "",
                            "createTime": "2023-08-23 14:46:41",
                            "parentName": "菜单管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 36,
                            "name": "修改菜单",
                            "parentId": 4,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:m:updateSysMenu",
                            "icon": "",
                            "createTime": "2023-08-23 14:45:14",
                            "parentName": "菜单管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 35,
                            "name": "删除菜单",
                            "parentId": 4,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:m:deleteSysMenu",
                            "icon": "",
                            "createTime": "2023-08-23 14:44:42",
                            "parentName": "菜单管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 34,
                            "name": "新增菜单",
                            "parentId": 4,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:m:createSysMenu",
                            "icon": "",
                            "createTime": "2023-08-23 14:44:17",
                            "parentName": "菜单管理",
                            "hasPermission": false,
                            "children": []
                        }
                    ]
                },
                {
                    "id": 5,
                    "name": "部门管理",
                    "parentId": 1,
                    "sort": 0,
                    "path": "/system/department",
                    "component": "/system/department/index",
                    "query": "",
                    "isFrame": "YES",
                    "isCache": "YES",
                    "type": "MENU",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "tree",
                    "createTime": "2023-08-23 10:51:36",
                    "parentName": "系统管理",
                    "hasPermission": false,
                    "children": [
                        {
                            "id": 41,
                            "name": "修改部门",
                            "parentId": 5,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:d:updateSysDept",
                            "icon": "",
                            "createTime": "2023-08-23 14:49:57",
                            "parentName": "部门管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 44,
                            "name": "查询部门详细信息",
                            "parentId": 5,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:d:getSysDeptById",
                            "icon": "",
                            "createTime": "2023-08-23 15:03:09",
                            "parentName": "部门管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 43,
                            "name": "查询部门树",
                            "parentId": 5,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:d:querySysDeptTree",
                            "icon": "",
                            "createTime": "2023-08-23 15:02:19",
                            "parentName": "部门管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 42,
                            "name": "修改部门状态",
                            "parentId": 5,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:updateSysDeptStatus",
                            "icon": "",
                            "createTime": "2023-08-23 14:51:20",
                            "parentName": "部门管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 40,
                            "name": "删除部门",
                            "parentId": 5,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:d:deleteSysDeptById",
                            "icon": "",
                            "createTime": "2023-08-23 14:49:37",
                            "parentName": "部门管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 39,
                            "name": "新增部门",
                            "parentId": 5,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:d:createSysDept",
                            "icon": "",
                            "createTime": "2023-08-23 14:49:12",
                            "parentName": "部门管理",
                            "hasPermission": false,
                            "children": []
                        }
                    ]
                },
                {
                    "id": 6,
                    "name": "数据权限",
                    "parentId": 1,
                    "sort": 0,
                    "path": "/system/data",
                    "component": "",
                    "query": "",
                    "isFrame": "YES",
                    "isCache": "YES",
                    "type": "CONTENT",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "dashboard",
                    "createTime": "2023-08-23 10:58:03",
                    "parentName": "系统管理",
                    "hasPermission": false,
                    "children": [
                        {
                            "id": 7,
                            "name": "数据项",
                            "parentId": 6,
                            "sort": 0,
                            "path": "/system/data/item",
                            "component": "/data/item/index",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "list",
                            "createTime": "2023-08-23 10:58:03",
                            "parentName": "数据权限",
                            "hasPermission": false,
                            "children": [
                                {
                                    "id": 50,
                                    "name": "创建数据项目录",
                                    "parentId": 7,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:di:createDataItemContent",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据项",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 51,
                                    "name": "更新数据项目录",
                                    "parentId": 7,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:di:updateDataItemContent",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据项",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 52,
                                    "name": "创建数据项",
                                    "parentId": 7,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:di:createDataItem",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据项",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 53,
                                    "name": "更新数据项",
                                    "parentId": 7,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:di:updateDataItem",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据项",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 54,
                                    "name": "删除单个数据项",
                                    "parentId": 7,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:di:deleteDataItem",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据项",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 55,
                                    "name": "获取数据项详情",
                                    "parentId": 7,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:di:getDataItem",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据项",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 56,
                                    "name": "查询数据项树",
                                    "parentId": 7,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:di:queryDataItemTree",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据项",
                                    "hasPermission": false,
                                    "children": []
                                }
                            ]
                        },
                        {
                            "id": 8,
                            "name": "数据集",
                            "parentId": 6,
                            "sort": 0,
                            "path": "/system/data/group",
                            "component": "/data/set/index",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "tree",
                            "createTime": "2023-08-23 10:58:03",
                            "parentName": "数据权限",
                            "hasPermission": false,
                            "children": [
                                {
                                    "id": 57,
                                    "name": "创建数据权限集",
                                    "parentId": 8,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:dg:createDataGroup",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据集",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 58,
                                    "name": "更新数据权限集",
                                    "parentId": 8,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:dg:updateDataGroup",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据集",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 59,
                                    "name": "删除单个数据权限集",
                                    "parentId": 8,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:dg:deleteDataGroup",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据集",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 60,
                                    "name": "获取数据权限集详情",
                                    "parentId": 8,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:dg:getDataGroup",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据集",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 61,
                                    "name": "分页查询数据权限集",
                                    "parentId": 8,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:dg:queryPageDataGroup",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据集",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 62,
                                    "name": "列表查询数据权限集",
                                    "parentId": 8,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:dg:queryListDataGroup",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据集",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 63,
                                    "name": "获取角色数据权限树",
                                    "parentId": 8,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:dg:getDataItemOfRole",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:08:58",
                                    "parentName": "数据集",
                                    "hasPermission": false,
                                    "children": []
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": 9,
                    "name": "日志管理",
                    "parentId": 1,
                    "sort": 0,
                    "path": "/system/log",
                    "component": "",
                    "query": "",
                    "isFrame": "YES",
                    "isCache": "YES",
                    "type": "CONTENT",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "log",
                    "createTime": "2023-08-23 10:58:03",
                    "parentName": "系统管理",
                    "hasPermission": false,
                    "children": [
                        {
                            "id": 10,
                            "name": "操作日志",
                            "parentId": 9,
                            "sort": 0,
                            "path": "/system/log/operlog",
                            "component": "/system/log/operlog/index",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "MENU",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "",
                            "icon": "logininfor",
                            "createTime": "2023-08-23 11:00:19",
                            "parentName": "日志管理",
                            "hasPermission": false,
                            "children": [
                                {
                                    "id": 46,
                                    "name": "根据日志id获取详细信息",
                                    "parentId": 10,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:ol:getSysOperationLogById",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:06:24",
                                    "parentName": "操作日志",
                                    "hasPermission": false,
                                    "children": []
                                },
                                {
                                    "id": 45,
                                    "name": "分页查询系统日志",
                                    "parentId": 10,
                                    "sort": 0,
                                    "path": "",
                                    "component": "",
                                    "query": "",
                                    "isFrame": "YES",
                                    "isCache": "YES",
                                    "type": "BUTTON",
                                    "visible": "VISIBLE",
                                    "status": "NORMAL",
                                    "permission": "s:ol:queryPageSysOperationLog",
                                    "icon": "",
                                    "createTime": "2023-08-23 15:05:53",
                                    "parentName": "操作日志",
                                    "hasPermission": false,
                                    "children": []
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": 2,
                    "name": "用户管理",
                    "parentId": 1,
                    "sort": 2,
                    "path": "/system/user",
                    "component": "/system/user/index",
                    "query": "",
                    "isFrame": "YES",
                    "isCache": "YES",
                    "type": "MENU",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "user",
                    "createTime": "2023-08-23 10:48:32",
                    "parentName": "系统管理",
                    "hasPermission": false,
                    "children": [
                        {
                            "id": 49,
                            "name": "重置任意账号密码",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:resetPassword",
                            "icon": "",
                            "createTime": "2023-08-23 15:08:58",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 48,
                            "name": "修改用户基本信息",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:updateBaseInfo",
                            "icon": "",
                            "createTime": "2023-08-23 15:08:44",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 47,
                            "name": "获取当前用户详细信息",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:getCurrenSysUser",
                            "icon": "",
                            "createTime": "2023-08-23 15:08:24",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 11,
                            "name": "新增用户",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:createSysUser",
                            "icon": "",
                            "createTime": "2023-08-23 11:43:34",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 12,
                            "name": "删除用户",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:deleteSysUser",
                            "icon": "",
                            "createTime": "2023-08-23 11:44:13",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 13,
                            "name": "修改用户",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:updateSysUser",
                            "icon": "",
                            "createTime": "2023-08-23 11:45:33",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 14,
                            "name": "修改用户状态",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:updateSysUserStatus",
                            "icon": "",
                            "createTime": "2023-08-23 11:55:55",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 15,
                            "name": "重置任意账号密码",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:resetPassword",
                            "icon": "",
                            "createTime": "2023-08-23 11:57:11",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 16,
                            "name": "重新分配角色给用户",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:ur:grantRolesForUser",
                            "icon": "",
                            "createTime": "2023-08-23 14:04:17",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 17,
                            "name": "分页查询用户列表",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:queryPageSysUser",
                            "icon": "",
                            "createTime": "2023-08-23 14:05:43",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 18,
                            "name": "根据用户id获取详细信息",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:getSysUserById",
                            "icon": "",
                            "createTime": "2023-08-23 14:14:44",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 19,
                            "name": "获取正常部门树",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:d:getNormalDeptTree",
                            "icon": "",
                            "createTime": "2023-08-23 14:17:44",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 20,
                            "name": "全部角色列表",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:getAllRoles",
                            "icon": "",
                            "createTime": "2023-08-23 14:21:43",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 21,
                            "name": "获取角色列表（标记已授权和未授权）",
                            "parentId": 2,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:u:getRoleListByUserId",
                            "icon": "",
                            "createTime": "2023-08-23 14:25:17",
                            "parentName": "用户管理",
                            "hasPermission": false,
                            "children": []
                        }
                    ]
                },
                {
                    "id": 3,
                    "name": "角色管理",
                    "parentId": 1,
                    "sort": 4,
                    "path": "/system/role",
                    "component": "/system/role/index",
                    "query": "",
                    "isFrame": "YES",
                    "isCache": "YES",
                    "type": "MENU",
                    "visible": "VISIBLE",
                    "status": "NORMAL",
                    "permission": "",
                    "icon": "peoples",
                    "createTime": "2023-08-23 10:49:25",
                    "parentName": "系统管理",
                    "hasPermission": false,
                    "children": [
                        {
                            "id": 33,
                            "name": "获取全部菜单列表树以及所选角色是否有权限",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:m:getSysMenuTreeByRoleId",
                            "icon": "",
                            "createTime": "2023-08-23 14:42:49",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 64,
                            "name": "重置角色数据权限",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:resetDataPermissionOfRole",
                            "icon": "",
                            "createTime": "2023-08-23 15:08:58",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 65,
                            "name": "查询已有数据权限",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:getDataPermissionList",
                            "icon": "",
                            "createTime": "2023-08-23 15:08:58",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 32,
                            "name": "获取菜单基本信息列表树",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:m:getBaseSysMenuTree",
                            "icon": "",
                            "createTime": "2023-08-23 14:42:27",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 22,
                            "name": "新增角色",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:createSysRole",
                            "icon": "",
                            "createTime": "2023-08-23 14:31:48",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 23,
                            "name": "删除角色",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:deleteSysRole",
                            "icon": "",
                            "createTime": "2023-08-23 14:32:26",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 24,
                            "name": "修改角色",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:updateSysRole",
                            "icon": "",
                            "createTime": "2023-08-23 14:33:16",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 25,
                            "name": "授权角色给批量用户",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:ur:grantRoleForUsers",
                            "icon": "",
                            "createTime": "2023-08-23 14:35:22",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 26,
                            "name": "批量取消授权角色",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:ur:revokeRoleFromUsers",
                            "icon": "",
                            "createTime": "2023-08-23 14:35:45",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 27,
                            "name": "修改角色状态",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:updateSysRoleStatus",
                            "icon": "",
                            "createTime": "2023-08-23 14:36:27",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 28,
                            "name": "分页查询角色",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:queryPageSysRoles",
                            "icon": "",
                            "createTime": "2023-08-23 14:36:59",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 29,
                            "name": "根据角色id获取详细信息",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:getSysRoleById",
                            "icon": "",
                            "createTime": "2023-08-23 14:37:17",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 30,
                            "name": "查询已分配角色用户列表",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:queryPageUsersHasRoleId",
                            "icon": "",
                            "createTime": "2023-08-23 14:37:40",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        },
                        {
                            "id": 31,
                            "name": "查询未分配角色用户列表",
                            "parentId": 3,
                            "sort": 0,
                            "path": "",
                            "component": "",
                            "query": "",
                            "isFrame": "YES",
                            "isCache": "YES",
                            "type": "BUTTON",
                            "visible": "VISIBLE",
                            "status": "NORMAL",
                            "permission": "s:r:queryPageUsersHasNotRoleId",
                            "icon": "",
                            "createTime": "2023-08-23 14:38:13",
                            "parentName": "角色管理",
                            "hasPermission": false,
                            "children": []
                        }
                    ]
                }
            ]
        }
    ],
    "msg": null
}
```


## 项目信息

小程序仓库：https://gitlab.dg.com/FrontEnd/yingshang/weapp/yuexiu  
  
PC端测试环境（小程序的数据和PC端互通）：  
https://10.2.161.227/vr_model_room/admin/#/login  
账密：adminA / Proxy@2023  
  
  
需求：https://shujian.digitalgd.com.cn/monorepo/app-reqm/myProject/iteration?projectId=f78b6bc07dd447508498f04b5102d8c8&searchId=97f5be2c00774291a1c51f989c9efb7b&statusList=1&iterateId=bf779980e023421e97c3ac91e5f551b8&iterateProjectId=f78b6bc07dd447508498f04b5102d8c8![](file:///C:/Users/Digital/AppData/Local/Temp/企业微信截图_17548755626012.png)  
项目排期：![](file:///C:/Users/Digital/AppData/Local/Temp/企业微信截图_17548756106555.png)  
有一些其他信息在凯的交接文档里：![](file:///C:/Users/Digital/AppData/Local/Temp/企业微信截图_17548755151243.png)



## 移动端触摸事件

[Element：touchmove 事件 - Web API | MDN](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/touchmove_event)
[移动端 触摸事件 ontouchstart、ontouchmove、ontouchend、ontouchcancel - 知乎](https://zhuanlan.zhihu.com/p/23509912)
